<div class="dashboard-container">
  <!-- Network Status Card -->
  <mat-card class="status-card">
    <mat-card-header>
      <mat-card-title>
        <mat-icon [style.color]="networkStatus.color">{{ networkStatus.icon }}</mat-icon>
        Ağ Durumu
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="status-info">
        <h3 [style.color]="networkStatus.color">{{ networkStatus.text }}</h3>
        <p>{{ networkStatus.description }}</p>
        <div class="connected-devices">
          <mat-chip-listbox>
            <mat-chip *ngFor="let device of connectedDevices" 
                     [style.background-color]="'var(--safe-green)'">
              <mat-icon>smartphone</mat-icon>
              {{ device.name }}
            </mat-chip>
          </mat-chip-listbox>
        </div>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="primary" (click)="scanForDevices()">
        <mat-icon>search</mat-icon>
        Cihaz Ara
      </button>
    </mat-card-actions>
  </mat-card>

  <!-- Emergency Button -->
  <mat-card class="emergency-card" [class.emergency-active]="isEmergencyActive">
    <mat-card-content>
      <button mat-fab 
              class="emergency-button"
              [class.emergency-active]="isEmergencyActive"
              (click)="toggleEmergency()"
              [disabled]="emergencyButtonDisabled">
        <mat-icon>{{ isEmergencyActive ? 'stop' : 'emergency' }}</mat-icon>
      </button>
      <div class="emergency-text">
        <h2>{{ isEmergencyActive ? 'ACİL DURUM AKTİF' : 'ACİL DURUM' }}</h2>
        <p>{{ isEmergencyActive ? 'Durdurmak için dokunun' : 'Acil durum bildirimi için dokunun' }}</p>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Quick Actions -->
  <div class="quick-actions">
    <mat-card class="action-card" (click)="navigateToMessages()">
      <mat-card-content>
        <mat-icon color="primary">message</mat-icon>
        <h3>Mesajlaşma</h3>
        <p>{{ unreadMessages }} okunmamış mesaj</p>
      </mat-card-content>
    </mat-card>

    <mat-card class="action-card" (click)="shareLocation()">
      <mat-card-content>
        <mat-icon [style.color]="'var(--warning-orange)'">location_on</mat-icon>
        <h3>Konum Paylaş</h3>
        <p>Konumunuzu paylaşın</p>
      </mat-card-content>
    </mat-card>

    <mat-card class="action-card" (click)="viewNetworkMap()">
      <mat-card-content>
        <mat-icon [style.color]="'var(--info-blue)'">map</mat-icon>
        <h3>Ağ Haritası</h3>
        <p>Mesh ağ topolojisi</p>
      </mat-card-content>
    </mat-card>

    <mat-card class="action-card" (click)="emergencyContacts()">
      <mat-card-content>
        <mat-icon [style.color]="'var(--emergency-red)'">contacts</mat-icon>
        <h3>Acil Kişiler</h3>
        <p>Hızlı erişim listesi</p>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Recent Activity -->
  <mat-card class="activity-card">
    <mat-card-header>
      <mat-card-title>Son Aktiviteler</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="activity-list">
        <div class="activity-item" *ngFor="let activity of recentActivities">
          <mat-icon [style.color]="activity.color">{{ activity.icon }}</mat-icon>
          <div class="activity-content">
            <h4>{{ activity.title }}</h4>
            <p>{{ activity.description }}</p>
            <small>{{ activity.timestamp | date:'short' }}</small>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>